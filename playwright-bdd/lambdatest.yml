# Access your LambdaTest credentials from https://accounts.lambdatest.com/security/username-accesskey
# It's recommended to use environment variables for your credentials.

# @hjsblogger - This needs to be hard-coded
user: ${LT_USERNAME}
accessKey: ${LT_ACCESS_KEY}

# Build name for your test run
build: "[Desktop Testing] Playwright-BDD Demo Parallel Execution"

# Name of the test suite
name: "[Desktop Testing] Playwright-BDD Demo Parallel Execution"

# Global base configuration
framework: "playwright" # Framework name
source: "node-js-playwright-sample-sdk:v1" # GitHub branch and tag

# Optional: Build and project tags for organization and filtering
# buildTags: ["playwright", "nodejs", "typescript"]
# tags: ["smoke", "regression"]
# projectName: "Playwright Node SDK Testing"

# Define the number of parallel sessions for each configuration
# Check your parallel session limits at https://billing.lambdatest.com/billing/subscriptions
parallelsPerPlatform: 20

# Optional: Advanced settings applied to all tests
network: false # To capture network HAR logs (may impact test execution speed)
console: false # To capture browser console logs (may impact test execution speed)
video: true # To capture video for debugging (may impact test execution speed)
tunnel: false # To test pages behind a VPN/private network or from a local system. Refer to https://www.lambdatest.com/support/docs/testing-locally-hosted-pages/
dedicatedProxy: false
# idleTimeout capability is expected to be in the range of 120 - 1800 seconds
idleTimeout: 1800
actionTimeout: 60000       # 60 seconds for actions like click/fill
navigationTimeout: 60000   # 60 seconds for navigation (page.goto)
timeout: 120000              # 120 seconds test-level timeout (if supported)
# timezone: "UTC"
visual: true # To capture a screenshot for each command (may impact test execution speed)
headless: false # To run tests in headless mode. Note: Video will not be available for headless tests.
commandLog: true # To capture commands that are executed on the LambdaTest platform
# resolution: "1280x960" # To set the global resolution/viewport size to execute tests

# Tunnel-specific tests
tunnel_settings:
  tunnel: false
  # autostart: true
  # tunnelName: "app-behind-firewall-localhost-test-tunnel"
  # localdirectory: "./log"
  # verbose: true
  # loglevel: "debug"

# Global Playwright configuration (inherited by all platforms unless overridden)
playwrightConfigOptions:
   testDir: ".features-gen"
   testMatch: ["**/*.spec.js"]

# Refer to the capability generator for detailed configurations: https://www.lambdatest.com/capabilities-generator/
platforms:
  - platform: "MacOS Sequoia"
    browserName: "chrome"
    browserVersion: "latest"
  - platform: "Windows 11"
    browserName: "chrome"
    browserVersion: "latest"
  - platform: "MacOS Sequoia"
    browserName: "pw-webkit"
    browserVersion: "latest"
  # For mobile testing
  # - deviceName: "Galaxy S24 Ultra"
  #   platformName: "android"
  #   platformVersion: "14"
  #   isRealMobile: true
  #   browserName: "pw-chromium"
  #   browserVersion: "latest"
  #   ltOptions:
  #     # Geolocation-specific tests
  #     # geoLocation: "GB"
  #     # Network communication tests (enable network logging)
  #     network: true
  #     console: true
  #     fullHar: false # To capture request and response body (might slow the test execution)
  #     unicodeKeyboard: true
  #     resetKeyboard: true
  # - deviceName: "iPhone 15 Pro Max"
  #   platformName: "ios"
  #   platformVersion: "18"
  #   isRealMobile: true
  #   browserName: "safari"
  #   browserVersion: "latest"
  #   ltOptions:
  #     # Geolocation-specific tests
  #     # geoLocation: "GB"
  #     # Network communication tests (enable network logging)
  #     network: true
  #     console: true
  #     fullHar: false # To capture request and response body (might slow the test execution)
  #   # playwrightConfigOptions:
  #   #   testDir: "additional-tests"
  #   #   testMatch: ["**/mobile-responsive.spec.ts"]
  #   #   # For mobile testing
  #   #   use:
  #   #     viewport: { width: 390, height: 844 }
